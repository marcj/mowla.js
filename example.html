<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
    <script type="text/javascript" src="mowla.min.js" ></script>
    <script type="text/javascript">

        function awesomeResult(){
            return 'Awesome!';
        }

        window.onload = function(){
            var data = {
                name: 'peter',
                that: {is: {awesome:{too: 'YES'}}},
                messages: [
                    {title: 'Hallolo', url: '/1'},
                    {title: 'Asd', url: '/2'}
                ],
                tags: ['peter', 'you', 'are', 'a', 'mowla'],
                someHtml: '<b>Hi folk</b>'
            }

            var source = mowla.htmlEntities(document.getElementById('source').innerHTML);
            var renderedTemplate = mowla.fetch(source, data);

            mowla.render(document.getElementById('source'), data);

        }
    </script>
</head>
<body>
    <div id="source">
        Hi {name}!<br/><br/>

        \{myExampleCall\}<br/><br/>

        {someHtml} => {html someHtml}<br/><br/>

        {if messages.length}
            You got messages:
            <ol>
            {foreach messages as message}
                <li><a href="{message.url}">#{index} {message.title}</a></li>
            {/foreach}
            </ol>
        {else}
            No messages. :-(
        {/if}

        Tags:
        {foreach tags as tag}
            <a href="/tag/{tag}">{tag}</a>{if !last}, {/if}
        {/foreach}

        <br/><br/>
        Tags simple: {tags.join(',')}

        <br/><br/>

        Awesome is {awesomeResult()}<br/>
        Suppresed: {call awesomeResult()}

        <br/><br/>
        {call if(true)\{ ___ += 'yay'; \}}

        <br/><br/>
        Some path?: {that.is.awesome.too}
        <br/><br/>


        {var temp = 'too'}
        Some path?: {that.is.awesome[temp]}
        <br/><br/>

        {if temp}{if 1==1}Yay,1!{/if}{/if}

        {for var i=0; i<10; i++}
            {i}
        {/for}
        <br/><br/>

        {var i=0}
        {while i < 10}
            {i++}
        {/for}

        '<br/>

        \<br/>
    </div>
</body>
</html>